tinymce.PluginManager.add("contaonewslink", function (editor) {
    // Add a button that opens a window
    editor.addButton('contaonewslink', {
        text: 'News Link',
        icon: false,
        onclick: function () {
            // Open window


            editor.windowManager.open({
                title: 'Example plugin',
                body: [
                    {
                        type: 'listbox',
                        name: 'newsarchivesList',
                        label: 'News',
                        values: tinyMCE.activeEditor.getParam('newsarchives'),
                        value: -1
                    }
                ],
                onselect: function (e) {
                    //
                },
                onsubmit: function (e) {
                    // Insert content when the window form is submitted
                    console.log(e.data.newsarchivesList);
                    if (e.data.newsarchivesList > 0) {
                        editor.insertContent('{{news::' + e.data.newsarchivesList + '}}');
                    }
                }

            });
        }
    });


});